#!/bin/bash
echo "🎨 Deploying ENHANCED FRONTEND for Go BARRY..."

echo "✅ Frontend Enhancements:"
echo "   📺 Display Screen - 10s refresh + ML intelligence integration"
echo "   🤖 ML confidence bars and passenger impact displays"  
echo "   📊 Real-time analytics and data source health indicators"
echo "   🎯 AI recommendations and enhanced alert information"

# Build and deploy frontend
echo ""
echo "🏗️ Building enhanced frontend..."
cd Go_BARRY

# Install any new dependencies
echo "📦 Installing dependencies..."
npm install

# Build for web deployment
echo "🔨 Building for web..."
npm run build:web

echo "✅ Frontend build complete!"

# Note about deployment
echo ""
echo "🌐 DEPLOYMENT OPTIONS:"
echo "   1. Manual: Upload 'dist' folder to hosting"
echo "   2. Auto: If connected to Git, will auto-deploy"
echo "   3. Expo: Use 'expo publish' for updates"

echo ""
echo "📱 FRONTEND FEATURES NOW ACTIVE:"
echo "   ✅ Enhanced Display Screen with ML intelligence"
echo "   ✅ 10-second refresh for near real-time updates"
echo "   ✅ ML confidence scoring and passenger impact"
echo "   ✅ AI recommendations for each alert"
echo "   ✅ Data source health monitoring"
echo "   ✅ Auto-cycling alerts with enhanced information"

echo ""
echo "🎯 FRONTEND URLs:"
echo "   • Main: https://gobarry.co.uk"  
echo "   • Display: https://gobarry.co.uk/display"
echo "   • Browser: https://gobarry.co.uk/browser-main"

echo ""
echo "🚀 Frontend deployment ready!"
echo "💡 The enhanced display screen will now show ML intelligence!"